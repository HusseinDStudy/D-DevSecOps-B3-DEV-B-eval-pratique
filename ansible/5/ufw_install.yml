- name: Allow everything and enable UFW
  community.general.ufw:
    state: enabled
    policy: allow

- name: Set logging
  community.general.ufw:
    logging: 'on'

- community.general.ufw:
    rule: deny
    port: ssh
    log: true

- community.general.ufw:
    rule: allow
    port: ssh
    log: true


- community.general.ufw:
    rule: limit
    port: http
    log: true


- community.general.ufw:
    rule: allow
    port: https
    log: true
